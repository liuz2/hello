* sed

** sed 命令基本用法

sed 从文本的一个命令行或标准输入中读取数据，将其复制到缓冲区，然后读取命令行或脚本的第一个命令，对此命令要求的行号进行编辑，重复此过程，直到命令行或脚本中的所有命令都执行完毕。

sed 适用于以下三种场合：

1. 编辑相对交互式文本编辑器而言太大的文件
2. 编辑命令太复杂，在交互式文本编辑器中难以输入
3. 对文件扫描一遍，但是需要执行多个编辑函数

sed 命令通常由定位文本行和 sed 编辑命令两部分组成，sed 编辑命令对定位文本行进行各种处理。sed 提供以下两种方式定位文本：

1. 使用行号，指定一行，或指定行号范围
2. 使用正则表达式

sed 命令定位文本的方法如下

| 选项              | 意义                                   |
|-------------------+----------------------------------------|
| x                 | x 为指定行号                           |
| x,y               | 指定从 x 到 y 的行号范围               |
| /pattern/         | 查询包含模式的行                       |
| /pattern/pattern/ | 查询包含两个模式的行                   |
| /pattern/,x       | 从与 pattern 的匹配行到 x 号行之间的行 |
| x,/pattern/       | 从 x 号行到与 pattern 的匹配行之间的行 |
| x,y!              | 查询不包括 x 和 y 行号的行             |

sed 编辑命令

| 选项 | 意义                                     |
|------+------------------------------------------|
| p    | 打印匹配行                               |
| =    | 打印文件行号                             |
| a\   | 在定位行号之后追加文件信息               |
| i\   | 在定位行号之前插入文本信息               |
| d    | 删除定位行                               |
| c\   | 用新文本替换定位文本                     |
| s    | 使用替换模式替换相应模式                 |
| r    | 从另一个文件中读文本                     |
| w    | 将文本写入到一个文件                     |
| y    | 变换字符                                 |
| q    | 第一个模式匹配完成后退出                 |
| l    | 显示与八进制 ASCII 码等价的控制字符      |
| {}   | 在定位行执行的命令组                     |
| n    | 读取下一个输入行，用下一个命令处理新的行 |
| h    | 将模式缓冲区的文本复制到保持缓冲区       |
| H    | 将模式缓冲区的文本追加到保持缓冲区       |
| x    | 互换模式缓冲区和保持缓冲区的内容         |
| g    | 将保持缓冲区的内容复制到模式缓冲区       |
| G    | 将保持缓冲区的内容追加到模式缓冲区       |

** sed 编程的一组例子



* 参考文献

1. Linux Shell 编程从初学到精通，伍之昂等编著
